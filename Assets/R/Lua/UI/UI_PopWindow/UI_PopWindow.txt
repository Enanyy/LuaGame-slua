require("Window")

--UI_PopWindow继承于BaseWindow
UI_PopWindow = Class("UI_PopWindow",Window)

local this = UI_PopWindow

function this:ctor( path)
    self.path  = path
    self.windowType = WindowType.Pop --弹出行界面
    self.useMask =true
end


function this:Start()

    local mainWindow = self.transform:Find("MainWindow")

    local mainButton = mainWindow:GetComponent(UIButton) 
    if mainButton then
        mainButton.onClick:Add(EventDelegate(function() 
            print("Click MainWindow")
            WindowManager:Open(UI_Main)
        end))
    end

    
    local dialogWindow = self.transform:Find("Dialog")
    local dialogButton = dialogWindow:GetComponent(UIButton) 

    if dialogButton then
        dialogButton.onClick:Add(EventDelegate(function() 
            print("Click Dialog")        
            WindowManager:Open(UI_Dialog)
        end))
    end
   
    local close = self.transform:Find("Close")
    local closeButton = close:GetComponent(UIButton) 

    if closeButton then
        closeButton.onClick:Add(EventDelegate(function() 
            print("Click Close")        
            self:Close()
        end))
    end
end





